!function(a){var b=function(a,b){var c=b.originalEvent.dataTransfer,d=a.over.call(this,b,c);return!1!==d&&b.preventDefault(),d},c=function(b,c){var d=c.originalEvent.dataTransfer;b.dropEffect&&(d.dropEffect=b.dropEffect),b.effectAllowed&&(d.effectAllowed=b.effectAllowed);var e=b.drop.call(this,a(d.getData("text")).get(0),c,d);return!1!==e&&c.preventDefault(),e};a.fn.draggable=function(d){return d=a.extend({dragImage:null,dropEffect:"move",effectAllowed:"all",sortable:!0,drag:function(a){},start:function(){},end:function(){},enter:function(){},leave:function(){},exit:function(){},over:function(a){a.preventDefault()},drop:function(){},sorted:function(a,b){}},d),this.each(function(){a(this).attr("draggable",!0).on("drag",function(a){return d.drag.call(this,a,a.originalEvent.dataTransfer)}).on("dragstart",function(b){var c=b.originalEvent.dataTransfer;if(a(this).addClass("dragging"),a(this).attr("id")||a(this).attr("id","_"+Date.now()),c.setData("text/plain","#"+a(this).attr("id")+".dragging"),d.dragImage){var e=new Image,f=d.dragImage,g=0,h=0;a.isPlainObject(d.dragImage)&&(f=d.dragImage.src,g=d.dragImage.offsetX||0,h=d.dragImage.offsetY||0),f&&(e.src=f,c.setDragImage(e,g,h))}return d.dropEffect&&(c.dropEffect=d.dropEffect),d.effectAllowed&&(c.effectAllowed=d.dropEffect),d.start.call(this,b,c)}).on("dragend",function(b){return a(this).removeClass("dragging"),d.end.call(this,b,b.originalEvent.dataTransfer)}).on("dragenter",function(b){return!a(this).hasClass("dragging")&&d.enter.call(this,b,b.originalEvent.dataTransfer)}).on("dragleave",function(b){return!a(this).hasClass("dragging")&&d.leave.call(this,b,b.originalEvent.dataTransfer)}).on("dragexit",function(a){return d.exit.call(this,a,a.originalEvent.dataTransfer)}),d.sortable&&a(this).on("dragover",function(a){return b.call(this,d,a)}).on("drop",function(b){var e=a(b.originalEvent.dataTransfer.getData("text"));return a(this).before(e),d.sorted.call(e.get(0),this),c.call(this,d,b)})})},a.fn.droppable=function(d){return d=a.extend({dropEffect:"move",effectAllowed:"all",over:function(a){},drop:function(){}},d),this.each(function(){a(this).on("dragover",function(a){return b.call(this,d,a)}).on("drop",function(a){return c.call(this,d,a)})})}}(jQuery);